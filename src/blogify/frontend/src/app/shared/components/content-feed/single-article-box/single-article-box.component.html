<div class="article">

    <div class="first-line clickable no-highlight" routerLink="/article/{{entity.uuid}}">

        <!-- Title -->
        <h1 class="title" [style.color]="this.entity.isPinned ? 'var(--accent-positive)' : ''">
            <fa-icon
                    [icon]="faThumbtack" size="lg" [transform]="{ size: 10, y: 1, rotate: 45 }"
                    *ngIf="this.entity.isPinned"
                    style="margin-right: .35em; color: var(--accent-positive)"
            ></fa-icon>

            {{entity.title}}
        </h1>

        <!-- Author -->
        <app-user-display class="author" [user]="entity.createdBy" emSize="1.5" sizeRatio="0.85"></app-user-display>
    </div>

    <div class="second-line clickable no-highlight" routerLink="/article/{{entity.uuid}}">
        <!-- Summary -->
        <span class="summary">{{entity.summary}}</span>

        <!-- Timestamp -->
        <span class="posted-at">{{entity.createdAt | relativeTime}}</span>
    </div>

    <div class="last-line">
        <!-- Like count - clickable -->
        <a class="article-like-count clickable negative"
           *ngIf="loggedInObs | async"
           (click)="toggleLike()"
        >
            <fa-icon [icon]="this.entity.likedByUser ? faHeartFilled : faHeartOutline" size="lg" [transform]="{ size: 19 }"></fa-icon>
            <span>&ensp;{{this.entity.likeCount}}</span>
        </a>

        <!-- Like count - non-clickable -->
        <a class="article-like-count negative" *ngIf="!(loggedInObs | async)">
            <fa-icon [icon]="faHeartOutline" size="lg" [transform]="{ size: 18 }"></fa-icon>
            <span>&ensp;{{this.entity.likeCount}}</span>
        </a>

        <span class="separator"></span>

        <!-- Comment count -->
        <a class="comment-count clickable">
            <fa-icon [icon]="faCommentAlt" size="lg" [transform]="{ size: 18, y: 1 }"></fa-icon>
            <span>&ensp;{{entity.commentCount}}</span>
        </a>

        <span class="separator"></span>

        <!-- Share button -->
        <a class="share clickable" (click)="copyLinkToClipboard()">
            <fa-icon [icon]="faClipboard" size="lg" [transform]="{ size: 18, y: -1.4 }"></fa-icon>
        </a>

        <!-- Categories -->
        <div class="tags" *ngIf="entity.categories.length > 0">
            <span *ngFor="let tag of entity.categories">{{tag.name}}</span>
        </div>
    </div>

</div>
