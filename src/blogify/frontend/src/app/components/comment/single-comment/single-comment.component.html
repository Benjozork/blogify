<div class="comment" *ngIf="isReady">

    <div class="header">
        <app-user-display [user]="comment.commenter" info="name" emSize="2.25"></app-user-display>
    </div>

    <div class="body">
        <markdown class="content-text">{{comment.content}}</markdown>
    </div>

    <div class="buttons">
        <!-- Like count - clickable -->
        <span class="button like-count clickable negative" *ngIf="loggedInObs | async" (click)="toggleLike()">
            <fa-icon [icon]="this.comment.likedByUser ? faHeartFilled : faHeartOutline" size="lg" [transform]="{ size: 18, y: -2 }"></fa-icon>

            {{this.comment.likeCount}}
        </span>

        <!-- Like count - non-clickable -->
        <span class="button like-count negative" *ngIf="!(loggedInObs | async)">
            <fa-icon [icon]="faHeartOutline" size="lg" [transform]="{ size: 18, y: -2 }"></fa-icon>

            {{comment.likeCount}}
        </span>

        <span class="separator"></span>

        <!-- Reply -->
        <span class="button reply clickable" (click)="replyingEnabled = !replyingEnabled">
            <fa-icon [icon]="faCommentAlt" size="lg" [transform]="{ y: -1 }"></fa-icon>

            Reply
        </span>
    </div>

    <app-create-comment class="reply" *ngIf="replyingEnabled" [replying]="replyingEnabled" [comment]="comment"></app-create-comment>

    <div class="children" *ngIf="comment.children && comment.children.length > 0">
        <div *ngFor="let child of comment.children">
            <app-single-comment [parent]="comment" [comment]="child"></app-single-comment>
        </div>
    </div>

</div>
